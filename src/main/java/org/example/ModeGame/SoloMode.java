package org.example.ModeGame;

import org.example.DataMessage.Content;
import org.example.Producer;
import org.example.Quiz.UserData;

/**
 * –ö–ª–∞—Å—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Ä–µ–∂–∏–º "–°–æ–ª–æ" –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω –≤ –æ–¥–∏–Ω–æ—á–∫—É.
 * –†–µ–∂–∏–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ,
 * –≤—ã–±–∏—Ä–∞—Ç—å —Ç–µ–º—ã –∏ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —Å —Å–∞–º–∏–º —Å–æ–±–æ–π –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ª–∏—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
 */
public class SoloMode implements ModeSelector {
    private final Producer producer;
    private final String chatId;
    private final UserData userData;

    /**
     * –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∂–∏–º–∞ "–°–æ–ª–æ".
     * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∂–∏–º —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã.
     *
     * @param producer –æ–±—ä–µ–∫—Ç Producer –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
     * @param chatId —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     * @param userData –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—é
     */
    public SoloMode(Producer producer, String chatId, UserData userData) {
        this.producer = producer;
        this.chatId = chatId;
        this.userData = userData;
    }

    /**
     * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ä–µ–∂–∏–º–∞ "–°–æ–ª–æ".
     * –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–≥—Ä–æ–≤–æ–π —Ä–µ–∂–∏–º –≤ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     * –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
     *
     * @return –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ {@link Content}, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ–∂–∏–º–∞
     */
    @Override
    public Content[] handleModeSelection() {
        userData.setGameMode("solo");
        return new Content[] {
                new Content(true, chatId, "üß† *–†–µ–∂–∏–º –°–æ–ª–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω*"), producer.handleMenuCommand(chatId, userData)[0]
        };
    }

    /**
     * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø –∏–≥—Ä–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞.
     * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–µ–∂–∏–º–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –∏ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
     *
     * @return —Å—Ç—Ä–æ–∫—É "solo", –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â—É—é —Ç–∏–ø —Ä–µ–∂–∏–º–∞
     */
    @Override
    public String getModeType() {
        return "solo";
    }
}